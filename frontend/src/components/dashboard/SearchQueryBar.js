import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from 'react';
import { motion } from 'framer-motion';
import { Search, Mic, Send, Wrench, Calendar } from 'lucide-react';
const SearchQueryBar = ({ onSearch, isLoading = false }) => {
    const [query, setQuery] = useState('');
    const [rvInfo, setRvInfo] = useState({
        brand: '',
        model: '',
        year: '',
        type: ''
    });
    const [isRvInfoExpanded, setIsRvInfoExpanded] = useState(false);
    const handleSubmit = (e) => {
        e.preventDefault();
        if (query.trim()) {
            onSearch(query.trim(), rvInfo);
        }
    };
    const handleVoiceInput = () => {
        // Placeholder for voice input functionality
        console.log('Voice input clicked');
    };
    const popularQueries = [
        'Water pump not working',
        'AC troubleshooting',
        'Battery maintenance',
        'Propane system issues',
        'Slide-out problems',
        'Generator won\'t start'
    ];
    return (_jsxs("div", { className: "bg-white dark:bg-gray-800 rounded-xl shadow-soft border border-gray-200 dark:border-gray-700 p-6", children: [_jsxs("form", { onSubmit: handleSubmit, className: "space-y-4", children: [_jsxs("div", { className: "flex space-x-3", children: [_jsxs("div", { className: "flex-1 relative", children: [_jsx(Search, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400" }), _jsx("input", { type: "text", value: query, onChange: (e) => setQuery(e.target.value), placeholder: "Ask about any RV repair issue...", className: "w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200", disabled: isLoading })] }), _jsx("button", { type: "button", onClick: handleVoiceInput, className: "p-3 text-gray-500 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-all duration-200", "aria-label": "Voice input", children: _jsx(Mic, { className: "h-5 w-5" }) }), _jsxs("button", { type: "submit", disabled: !query.trim() || isLoading, className: "px-6 py-3 bg-primary-600 hover:bg-primary-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-all duration-200 flex items-center space-x-2", children: [_jsx(Send, { className: "h-4 w-4" }), _jsx("span", { children: "Ask Copilot" })] })] }), _jsxs("div", { className: "border-t border-gray-200 dark:border-gray-700 pt-4", children: [_jsxs("button", { type: "button", onClick: () => setIsRvInfoExpanded(!isRvInfoExpanded), className: "flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200", children: [_jsx(Wrench, { className: "h-4 w-4" }), _jsx("span", { children: "RV Unit Information" }), _jsx(motion.div, { animate: { rotate: isRvInfoExpanded ? 180 : 0 }, transition: { duration: 0.2 }, children: _jsx(Calendar, { className: "h-4 w-4" }) })] }), _jsx(motion.div, { initial: false, animate: { height: isRvInfoExpanded ? 'auto' : 0, opacity: isRvInfoExpanded ? 1 : 0 }, transition: { duration: 0.3, ease: 'easeInOut' }, className: "overflow-hidden", children: _jsxs("div", { className: "mt-3 grid grid-cols-1 md:grid-cols-4 gap-3", children: [_jsxs("div", { children: [_jsx("label", { className: "block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Brand" }), _jsx("input", { type: "text", value: rvInfo.brand, onChange: (e) => setRvInfo({ ...rvInfo, brand: e.target.value }), placeholder: "e.g., Winnebago", className: "w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200" })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Model" }), _jsx("input", { type: "text", value: rvInfo.model, onChange: (e) => setRvInfo({ ...rvInfo, model: e.target.value }), placeholder: "e.g., View", className: "w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200" })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Year" }), _jsx("input", { type: "text", value: rvInfo.year, onChange: (e) => setRvInfo({ ...rvInfo, year: e.target.value }), placeholder: "e.g., 2023", className: "w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200" })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1", children: "Type" }), _jsxs("select", { value: rvInfo.type, onChange: (e) => setRvInfo({ ...rvInfo, type: e.target.value }), className: "w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200", children: [_jsx("option", { value: "", children: "Select Type" }), _jsx("option", { value: "Class A", children: "Class A" }), _jsx("option", { value: "Class B", children: "Class B" }), _jsx("option", { value: "Class C", children: "Class C" }), _jsx("option", { value: "Travel Trailer", children: "Travel Trailer" }), _jsx("option", { value: "Fifth Wheel", children: "Fifth Wheel" }), _jsx("option", { value: "Pop-up", children: "Pop-up" })] })] })] }) })] })] }), _jsxs("div", { className: "mt-4 pt-4 border-t border-gray-200 dark:border-gray-700", children: [_jsx("p", { className: "text-sm text-gray-600 dark:text-gray-400 mb-3", children: "Popular queries:" }), _jsx("div", { className: "flex flex-wrap gap-2", children: popularQueries.map((suggestion, index) => (_jsx("button", { onClick: () => setQuery(suggestion), className: "px-3 py-1.5 text-xs bg-gray-100 dark:bg-gray-700 hover:bg-primary-100 dark:hover:bg-primary-900/20 text-gray-700 dark:text-gray-300 hover:text-primary-700 dark:hover:text-primary-300 rounded-full transition-all duration-200", children: suggestion }, index))) })] })] }));
};
export default SearchQueryBar;
